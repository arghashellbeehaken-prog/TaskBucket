{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport api from \"../../api/apiClient\";\nexport const signup = createAsyncThunk(\"auth/signup\", async (payload, thunkAPI) => {\n  const res = await api.post(\"/auth/signup\", payload);\n  return res.data.user;\n});\nexport const login = createAsyncThunk(\"auth/login\", async (payload, thunkAPI) => {\n  const res = await api.post(\"/auth/login\");\n  return res.data.user;\n});\nexport const logout = createAsyncThunk(\"auth/logout\", async () => {\n  await api.post(\"/auth/logout\");\n  return null;\n});\nexport const fetchMe = createAsyncThunk(\"auth/me\", async () => {\n  const res = await api.get(\"/auth/me\");\n  return res.data.user;\n});\nconst slice = createSlice({\n  name: \"auth\",\n  initialState: {\n    user: null,\n    status: \"idle\",\n    err: null\n  },\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(signup.fulfilled, (state, action) => state.user = action.payload).addCase(login.fulfilled, (state, action) => state.user = action.payload).addCase(fetchMe.fulfilled, (state, action) => state.user = action.payload).addCase(logout.fulfilled, (state, action) => state.user = null);\n  }\n});\nexport default slice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","api","signup","payload","thunkAPI","res","post","data","user","login","logout","fetchMe","get","slice","name","initialState","status","err","reducers","extraReducers","builder","addCase","fulfilled","state","action","reducer"],"sources":["/home/sbh/divyo/TaskManager/frontend/src/features/auth/authSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport api from \"../../api/apiClient\";\n\nexport const signup = createAsyncThunk(\"auth/signup\", async (payload, thunkAPI) => {\n  const res = await api.post(\"/auth/signup\", payload);\n  return res.data.user;\n});\n\nexport const login = createAsyncThunk(\"auth/login\", async (payload, thunkAPI) => {\n  const res = await api.post(\"/auth/login\");\n  return res.data.user;\n});\n\nexport const logout = createAsyncThunk(\"auth/logout\", async () => {\n  await api.post(\"/auth/logout\");\n  return null;\n});\n\nexport const fetchMe = createAsyncThunk(\"auth/me\", async () => {\n  const res = await api.get(\"/auth/me\");\n  return res.data.user;\n});\n\nconst slice = createSlice({\n  name: \"auth\",\n  initialState: { user: null, status: \"idle\", err: null },\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(signup.fulfilled, (state, action) => (state.user = action.payload))\n      .addCase(login.fulfilled, (state, action) => (state.user = action.payload))\n      .addCase(fetchMe.fulfilled, (state, action) => (state.user = action.payload))\n      .addCase(logout.fulfilled, (state, action) => (state.user = null));\n  },\n});\n\nexport default slice.reducer;\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAChE,OAAOC,GAAG,MAAM,qBAAqB;AAErC,OAAO,MAAMC,MAAM,GAAGF,gBAAgB,CAAC,aAAa,EAAE,OAAOG,OAAO,EAAEC,QAAQ,KAAK;EACjF,MAAMC,GAAG,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,cAAc,EAAEH,OAAO,CAAC;EACnD,OAAOE,GAAG,CAACE,IAAI,CAACC,IAAI;AACtB,CAAC,CAAC;AAEF,OAAO,MAAMC,KAAK,GAAGT,gBAAgB,CAAC,YAAY,EAAE,OAAOG,OAAO,EAAEC,QAAQ,KAAK;EAC/E,MAAMC,GAAG,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,aAAa,CAAC;EACzC,OAAOD,GAAG,CAACE,IAAI,CAACC,IAAI;AACtB,CAAC,CAAC;AAEF,OAAO,MAAME,MAAM,GAAGV,gBAAgB,CAAC,aAAa,EAAE,YAAY;EAChE,MAAMC,GAAG,CAACK,IAAI,CAAC,cAAc,CAAC;EAC9B,OAAO,IAAI;AACb,CAAC,CAAC;AAEF,OAAO,MAAMK,OAAO,GAAGX,gBAAgB,CAAC,SAAS,EAAE,YAAY;EAC7D,MAAMK,GAAG,GAAG,MAAMJ,GAAG,CAACW,GAAG,CAAC,UAAU,CAAC;EACrC,OAAOP,GAAG,CAACE,IAAI,CAACC,IAAI;AACtB,CAAC,CAAC;AAEF,MAAMK,KAAK,GAAGd,WAAW,CAAC;EACxBe,IAAI,EAAE,MAAM;EACZC,YAAY,EAAE;IAAEP,IAAI,EAAE,IAAI;IAAEQ,MAAM,EAAE,MAAM;IAAEC,GAAG,EAAE;EAAK,CAAC;EACvDC,QAAQ,EAAE,CAAC,CAAC;EACZC,aAAa,EAAGC,OAAO,IAAK;IAC1BA,OAAO,CACJC,OAAO,CAACnB,MAAM,CAACoB,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAMD,KAAK,CAACf,IAAI,GAAGgB,MAAM,CAACrB,OAAQ,CAAC,CAC3EkB,OAAO,CAACZ,KAAK,CAACa,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAMD,KAAK,CAACf,IAAI,GAAGgB,MAAM,CAACrB,OAAQ,CAAC,CAC1EkB,OAAO,CAACV,OAAO,CAACW,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAMD,KAAK,CAACf,IAAI,GAAGgB,MAAM,CAACrB,OAAQ,CAAC,CAC5EkB,OAAO,CAACX,MAAM,CAACY,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAMD,KAAK,CAACf,IAAI,GAAG,IAAK,CAAC;EACtE;AACF,CAAC,CAAC;AAEF,eAAeK,KAAK,CAACY,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}