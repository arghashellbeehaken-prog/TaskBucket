{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport api from \"../../api/apiClient\";\nexport const signup = createAsyncThunk(\"auth/signup\", async (payload, thunkAPI) => {\n  const res = await api.post(\"/auth/signup\", payload);\n  return res.data.user;\n});\nexport const login = createAsyncThunk(\"auth/login\", async (payload, thunkAPI) => {\n  try {\n    const res = await api.post(\"/auth/login\", payload); // send email & password\n    return res.data.user;\n  } catch (err) {\n    var _err$response, _err$response$data;\n    return thunkAPI.rejectWithValue(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Login failed\");\n  }\n});\nexport const logout = createAsyncThunk(\"auth/logout\", async () => {\n  await api.post(\"/auth/logout\");\n  return null;\n});\nexport const fetchMe = createAsyncThunk(\"auth/me\", async () => {\n  const res = await api.get(\"/auth/me\");\n  return res.data.user;\n});\nconst slice = createSlice({\n  name: \"auth\",\n  initialState: {\n    user: null,\n    status: \"idle\",\n    err: null\n  },\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(signup.fulfilled, (state, action) => state.user = action.payload).addCase(login.fulfilled, (state, action) => state.user = action.payload).addCase(fetchMe.fulfilled, (state, action) => state.user = action.payload).addCase(logout.fulfilled, (state, action) => state.user = null);\n  }\n});\nexport default slice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","api","signup","payload","thunkAPI","res","post","data","user","login","err","_err$response","_err$response$data","rejectWithValue","response","message","logout","fetchMe","get","slice","name","initialState","status","reducers","extraReducers","builder","addCase","fulfilled","state","action","reducer"],"sources":["/home/sbh/divyo/TaskManager/frontend/src/features/auth/authSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport api from \"../../api/apiClient\";\n\nexport const signup = createAsyncThunk(\"auth/signup\", async (payload, thunkAPI) => {\n  const res = await api.post(\"/auth/signup\", payload);\n  return res.data.user;\n});\n\nexport const login = createAsyncThunk(\"auth/login\", async (payload, thunkAPI) => {\n  try {\n    const res = await api.post(\"/auth/login\", payload); // send email & password\n    return res.data.user;\n  } catch (err) {\n    return thunkAPI.rejectWithValue(err.response?.data?.message || \"Login failed\");\n  }\n});\n\nexport const logout = createAsyncThunk(\"auth/logout\", async () => {\n  await api.post(\"/auth/logout\");\n  return null;\n});\n\nexport const fetchMe = createAsyncThunk(\"auth/me\", async () => {\n  const res = await api.get(\"/auth/me\");\n  return res.data.user;\n});\n\nconst slice = createSlice({\n  name: \"auth\",\n  initialState: { user: null, status: \"idle\", err: null },\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(signup.fulfilled, (state, action) => (state.user = action.payload))\n      .addCase(login.fulfilled, (state, action) => (state.user = action.payload))\n      .addCase(fetchMe.fulfilled, (state, action) => (state.user = action.payload))\n      .addCase(logout.fulfilled, (state, action) => (state.user = null));\n  },\n});\n\nexport default slice.reducer;\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAChE,OAAOC,GAAG,MAAM,qBAAqB;AAErC,OAAO,MAAMC,MAAM,GAAGF,gBAAgB,CAAC,aAAa,EAAE,OAAOG,OAAO,EAAEC,QAAQ,KAAK;EACjF,MAAMC,GAAG,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,cAAc,EAAEH,OAAO,CAAC;EACnD,OAAOE,GAAG,CAACE,IAAI,CAACC,IAAI;AACtB,CAAC,CAAC;AAEF,OAAO,MAAMC,KAAK,GAAGT,gBAAgB,CAAC,YAAY,EAAE,OAAOG,OAAO,EAAEC,QAAQ,KAAK;EAC/E,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,aAAa,EAAEH,OAAO,CAAC,CAAC,CAAC;IACpD,OAAOE,GAAG,CAACE,IAAI,CAACC,IAAI;EACtB,CAAC,CAAC,OAAOE,GAAG,EAAE;IAAA,IAAAC,aAAA,EAAAC,kBAAA;IACZ,OAAOR,QAAQ,CAACS,eAAe,CAAC,EAAAF,aAAA,GAAAD,GAAG,CAACI,QAAQ,cAAAH,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcJ,IAAI,cAAAK,kBAAA,uBAAlBA,kBAAA,CAAoBG,OAAO,KAAI,cAAc,CAAC;EAChF;AACF,CAAC,CAAC;AAEF,OAAO,MAAMC,MAAM,GAAGhB,gBAAgB,CAAC,aAAa,EAAE,YAAY;EAChE,MAAMC,GAAG,CAACK,IAAI,CAAC,cAAc,CAAC;EAC9B,OAAO,IAAI;AACb,CAAC,CAAC;AAEF,OAAO,MAAMW,OAAO,GAAGjB,gBAAgB,CAAC,SAAS,EAAE,YAAY;EAC7D,MAAMK,GAAG,GAAG,MAAMJ,GAAG,CAACiB,GAAG,CAAC,UAAU,CAAC;EACrC,OAAOb,GAAG,CAACE,IAAI,CAACC,IAAI;AACtB,CAAC,CAAC;AAEF,MAAMW,KAAK,GAAGpB,WAAW,CAAC;EACxBqB,IAAI,EAAE,MAAM;EACZC,YAAY,EAAE;IAAEb,IAAI,EAAE,IAAI;IAAEc,MAAM,EAAE,MAAM;IAAEZ,GAAG,EAAE;EAAK,CAAC;EACvDa,QAAQ,EAAE,CAAC,CAAC;EACZC,aAAa,EAAGC,OAAO,IAAK;IAC1BA,OAAO,CACJC,OAAO,CAACxB,MAAM,CAACyB,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAMD,KAAK,CAACpB,IAAI,GAAGqB,MAAM,CAAC1B,OAAQ,CAAC,CAC3EuB,OAAO,CAACjB,KAAK,CAACkB,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAMD,KAAK,CAACpB,IAAI,GAAGqB,MAAM,CAAC1B,OAAQ,CAAC,CAC1EuB,OAAO,CAACT,OAAO,CAACU,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAMD,KAAK,CAACpB,IAAI,GAAGqB,MAAM,CAAC1B,OAAQ,CAAC,CAC5EuB,OAAO,CAACV,MAAM,CAACW,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAMD,KAAK,CAACpB,IAAI,GAAG,IAAK,CAAC;EACtE;AACF,CAAC,CAAC;AAEF,eAAeW,KAAK,CAACW,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}